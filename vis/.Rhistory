emissions_plot2 <- emissions_plot2 + base_theme
reusability_plot <- reusability_plot + base_theme
reusability_plot2 <- reusability_plot2 + base_theme
combined_plot <- ggarrange(
emissions_plot1,
emissions_plot2,
reusability_plot,
reusability_plot2,
ncol = 2,
nrow = 2,
common.legend = TRUE,
legend = "bottom",
labels = c("A", "B", "C", "D")
)
path_combined <- file.path(visualizations, 'd_rocket_emissions.png')
png(path_combined,
units = "in",
width = 16,
height = 12,
res = 300)
print(combined_plot)
dev.off()
library(ggpubr)
library(ggplot2)
library(dplyr)
library(tidyverse)
library(ggtext)
library(scales)
library(viridis)
folder <- dirname(rstudioapi::getSourceEditorContext()$path)
visualizations = file.path(folder, 'figures')
filename = "constellation_emissions.csv"
data <- read.csv(file.path(folder, '../results', filename))
data = select(
data,
Constellation,
Launch.Event,
Launcher.Production,
Electronics.Production,
Launcher.Transportation,
Electricity.Consumption,
Propulsion.System
)
data$Launch.Event <- as.numeric(gsub(",", "", data$Launch.Event))
data$Launcher.Production <- as.numeric(gsub(",", "", data$Launcher.Production))
data$Electronics.Production <- as.numeric(gsub(",", "", data$Electronics.Production))
data$Launcher.Transportation <- as.numeric(gsub(",", "", data$Launcher.Transportation))
data$Electricity.Consumption <- as.numeric(gsub(",", "", data$Electricity.Consumption))
data$Propulsion.System <- as.numeric(gsub(",", "", data$Propulsion.System))
total_emissions1 <- data %>%
group_by(Constellation) %>%
summarise(total_emission_value = sum(
Launch.Event, Launcher.Production, Electronics.Production,
Launcher.Transportation, Electricity.Consumption, Propulsion.System,
na.rm = TRUE
))
max_emission1 <- max(total_emissions1$total_emission_value, na.rm = TRUE)
data <- pivot_longer(
data,
cols = c(Launch.Event, Launcher.Production, Electronics.Production, Launcher.Transportation, Electricity.Consumption, Propulsion.System),
names_to = "impact_category",
values_to = "emission_value"
)
data$impact_category = factor(
data$impact_category,
levels = c(
"Launch.Event", "Launcher.Production", "Electronics.Production",
"Launcher.Transportation", "Electricity.Consumption", "Propulsion.System"),
labels = c(
"Launch Event", "Launcher Production", "Electronics Production",
"Launcher Transportation", "Electricity Consumption", "Propulsion System"))
data <- data %>%
group_by(Constellation) %>%
mutate(proportion = emission_value / sum(emission_value, na.rm = TRUE))
c_constellation_emissions <-
ggplot(data, aes(x = Constellation, y = emission_value)) +
geom_bar(stat = "identity", aes(fill = impact_category)) +
scale_fill_viridis_d(option = "plasma") +
theme_minimal() +
labs(
title = "Greenhouse Gas Emissions by Satellite Constellation",
colour = NULL,
x = NULL,
fill = NULL
) +
ylab("Greenhouse Gas Emissions (kt CO2e)") +
scale_y_continuous(
labels = comma,
expand = c(0, 0),
limits = c(0, max_emission1 * 1.1)
) +
theme(
legend.position = "bottom",
axis.title = element_text(size = 10),
axis.line = element_line(colour = "black"),
strip.text.x = element_blank(),
panel.border = element_blank(),
axis.title.y = element_markdown(margin = margin(r = 10)),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.text.x = element_text(size = 8, angle = 45, hjust = 1),
axis.text.y = element_text(size = 8),
axis.line.x  = element_line(size = 0.15),
axis.line.y  = element_line(size = 0.15),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5),
plot.margin = margin(t = 20, r = 20, b = 20, l = 20)
) +
geom_text(
data = total_emissions1,
aes(x = Constellation, y = total_emission_value, label = comma(round(total_emission_value))),
vjust = -0.5,
size = 3
)
filename_per_launch = "per_launch_emissions.csv"
data_per_launch <- read.csv(file.path(folder, '../results', filename_per_launch))
data_per_launch = select(
data_per_launch,
Constellation,
Launch.Event,
Launcher.Production,
Electronics.Production,
Launcher.Transportation,
Electricity.Consumption,
Propulsion.System
)
data_per_launch$Launch.Event <- as.numeric(gsub(",", "", data_per_launch$Launch.Event))
data_per_launch$Launcher.Production <- as.numeric(gsub(",", "", data_per_launch$Launcher.Production))
data_per_launch$Electronics.Production <- as.numeric(gsub(",", "", data_per_launch$Electronics.Production))
data_per_launch$Launcher.Transportation <- as.numeric(gsub(",", "", data_per_launch$Launcher.Transportation))
data_per_launch$Electricity.Consumption <- as.numeric(gsub(",", "", data_per_launch$Electricity.Consumption))
data_per_launch$Propulsion.System <- as.numeric(gsub(",", "", data_per_launch$Propulsion.System))
total_emissions_per_launch <- data_per_launch %>%
group_by(Constellation) %>%
summarise(total_emission_value = sum(
Launch.Event, Launcher.Production, Electronics.Production,
Launcher.Transportation, Electricity.Consumption, Propulsion.System,
na.rm = TRUE
))
max_emission_per_launch <- max(total_emissions_per_launch$total_emission_value, na.rm = TRUE)
data_per_launch <- pivot_longer(
data_per_launch,
cols = c(Launch.Event, Launcher.Production, Electronics.Production, Launcher.Transportation, Electricity.Consumption, Propulsion.System),
names_to = "impact_category",
values_to = "emission_value"
)
data_per_launch$impact_category = factor(
data_per_launch$impact_category,
levels = c(
"Launch.Event", "Launcher.Production", "Electronics.Production",
"Launcher.Transportation", "Electricity.Consumption", "Propulsion.System"),
labels = c(
"Launch Event", "Launcher Production", "Electronics Production",
"Launcher Transportation", "Electricity Consumption", "Propulsion System"))
g_constellation_emissions <-
ggplot(data_per_launch, aes(x = Constellation, y = emission_value)) +
geom_bar(stat = "identity", aes(fill = impact_category)) +
scale_fill_viridis_d(option = "plasma") +
theme_minimal() +
labs(
title = "Greenhouse Gas Emissions per Launch by Satellite Constellation",
colour = NULL,
x = NULL,
fill = NULL
) +
ylab("Greenhouse Gas Emissions per Launch (kt CO2e)") +
scale_y_continuous(
labels = comma,
expand = c(0, 0),
limits = c(0, max_emission_per_launch * 1.1)
) +
theme(
legend.position = "bottom",
axis.title = element_text(size = 10),
axis.line = element_line(colour = "black"),
strip.text.x = element_blank(),
panel.border = element_blank(),
axis.title.y = element_markdown(margin = margin(r = 10)),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.text.x = element_text(size = 8, angle = 45, hjust = 1),
axis.text.y = element_text(size = 8),
axis.line.x  = element_line(size = 0.15),
axis.line.y  = element_line(size = 0.15),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5),
plot.margin = margin(t = 20, r = 20, b = 20, l = 20)
) +
geom_text(
data = total_emissions_per_launch,
aes(x = Constellation, y = total_emission_value, label = comma(round(total_emission_value))),
vjust = -0.5,
size = 3
)
library(ggpubr)
library(ggplot2)
library(tidyverse)
library(ggtext)
library(gridExtra)
library(grid)
library("readxl")
folder <- dirname(rstudioapi::getSourceEditorContext()$path)
rct <- read.csv(file.path(folder, '..', 'data', 'raw', "rocket_parameters.csv"),
row.names = 1)
new_names <- c('Ariane-5', 'Ariane-62', 'Ariane-64', 'Atlas V', 'Falcon-9',
'Falcon-Heavy', 'Long March-5', 'LVM3', 'New Glenn', 'Soyuz-FG',
'Starship', 'Vulcan Centaur')
colnames(rct) <- new_names
rct_transposed <- t(rct)
rct_first_half <- rct_transposed[, 1:4]
rct_second_half <- rct_transposed[, 5:ncol(rct_transposed)]
folder_tables <- file.path(folder, 'figures', 'ab_tables')
dir.create(folder_tables, showWarnings = FALSE, recursive = TRUE)
filename_first = 'b_rocket_parameters_table_1.png'
path_first = file.path(folder_tables, filename_first)
png(
path_first,
units = "in",
width = 20,
height = 8,
res = 480
)
headers <- rownames(rct)[1:4]
headers_with_breaks <- c(
"Solid propellant\nmass (kg)",
"Cyrogenic propellant\nmass (kg)",
"Kerosene propellant\nmass (kg)",
"Hypergolic propellant\nmass (kg)"
)
rct_first_half_renamed <- rct_first_half
colnames(rct_first_half_renamed) <- headers_with_breaks
table_grob_first <- tableGrob(rct_first_half_renamed)
for (i in seq_len(ncol(rct_first_half))) {
max_width <- max(
unit.c(table_grob_first$widths[i],
stringWidth(headers_with_breaks[i])))
table_grob_first$widths[i] <- max_width
}
grid.newpage()
grid.draw(table_grob_first)
dev.off()
filename_second = 'b_rocket_parameters_table_2.png'
path_second = file.path(folder_tables, filename_second)
png(
path_second,
units = "in",
width = 25,
height = 8,
res = 480
)
rct_second_half_modified <- rct_second_half
split_text <- function(text, delimiters = c(", "), keep_delimiter = TRUE) {
result <- text
for(delimiter in delimiters) {
parts <- strsplit(result, delimiter)[[1]]
if(length(parts) > 1) {
first_part <- parts[1]
rest_parts <- parts[-1]
if(keep_delimiter) {
result <- paste0(first_part, delimiter, "\n", paste(rest_parts, collapse=delimiter))
} else {
result <- paste0(first_part, "\n", paste(rest_parts, collapse=delimiter))
}
}
}
return(result)
}
rct_second_half_modified <- rct_second_half
rct_second_half_modified[, "Launcher material"] <- sapply(rct_second_half[, "Launcher material"], function(x) split_text(x, c("inum"), TRUE))
rct_second_half_modified[, "Production location"] <- sapply(rct_second_half[, "Production location"], function(x) split_text(x, c(", ", "&"), TRUE))
rct_second_half_modified[, "Launch location"] <- sapply(rct_second_half[, "Launch location"], split_text)
rct_second_half_modified[, "Reusability"] <- sapply(rct_second_half[, "Reusability"], function(x) split_text(x, c("e 1", "Yes, up to"), TRUE))
rct_second_half_modified[, "Transportation vehicle"] <- sapply(rct_second_half[, "Transportation vehicle"], function(x) split_text(x, c("friendly", ","), TRUE))
headers_second <- c(
"Dry mass\n(kg)",
"Launcher\nmaterial",
"Reusability",
"Production\nlocation",
"Launch\nlocation",
"Transportation\nvehicle",
"Payload\nmass (kg)"
)
colnames(rct_second_half_modified) <- headers_second
table_grob_second <- tableGrob(rct_second_half_modified)
grid.newpage()
grid.draw(table_grob_second)
dev.off()
library(ggpubr)
library(ggplot2)
library(dplyr)
library(tidyverse)
library(scales)
library(ggtext)
library(viridis)
folder <- dirname(rstudioapi::getSourceEditorContext()$path)
visualizations <- file.path(folder, 'figures')
dir.create(visualizations, showWarnings = FALSE)
filename2 <- "per_subscriber_emissions.csv"
data2 <- read.csv(file.path(folder, '../results', filename2))
data2 <- select(
data2,
Constellation,
Launch.Event,
Launcher.Production,
Electronics.Production,
Launcher.Transportation,
Electricity.Consumption,
Propulsion.System
)
data2 <- pivot_longer(
data2,
cols = c(Launch.Event, Launcher.Production, Electronics.Production, Launcher.Transportation, Electricity.Consumption, Propulsion.System),
names_to = "impact_category",
values_to = "emission_value"
)
data2$emission_value <- as.numeric(gsub(",", "", data2$emission_value))
data2$impact_category <- factor(
data2$impact_category,
levels = c(
"Launch.Event", "Launcher.Production", "Electronics.Production",
"Launcher.Transportation", "Electricity.Consumption", "Propulsion.System"),
labels = c(
"Launch Event", "Launcher Production", "Electronics Production",
"Launcher Transportation", "Electricity Consumption", "Propulsion System"))
total_emissions2 <- data2 %>%
group_by(Constellation) %>%
summarise(total_emission_value = sum(emission_value, na.rm = TRUE))
max_emission2 <- max(total_emissions2$total_emission_value, na.rm = TRUE)
emissions_plot <- ggplot(data2, aes(x = Constellation, y = emission_value)) +
geom_bar(stat = "identity", aes(fill = impact_category)) +
scale_fill_viridis_d(option = "plasma") +
theme_minimal() +
labs(
title = "Greenhouse Gas Emissions per Subscriber by Satellite Constellation",
colour = NULL,
x = NULL,
fill = NULL
) +
ylab("GHG Emissions per Subscriber (kt CO2e)") +
scale_y_continuous(
labels = comma,
expand = c(0, 0),
limits = c(0, max_emission2 * 1.1)
) +
theme(
legend.position = "bottom",
legend.box = "horizontal",
legend.text = element_text(size = 8),
legend.title = element_text(size = 9),
axis.title = element_text(size = 10),
axis.line = element_line(colour = "black"),
strip.text.x = element_blank(),
panel.border = element_blank(),
axis.title.y = element_markdown(margin = margin(r = 10)),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.text.x = element_text(size = 8, angle = 45, hjust = 1),
axis.text.y = element_text(size = 8),
axis.line.x = element_line(size = 0.15),
axis.line.y = element_line(size = 0.15),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5),
plot.margin = margin(t = 20, r = 20, b = 20, l = 20)
) +
geom_text(
data = total_emissions2,
aes(x = Constellation, y = total_emission_value, label = comma(round(total_emission_value))),
vjust = -0.5,
size = 3
)
filename4 <- "subscriber_emissions_by_country.csv"
data4 <- read.csv(file.path(folder, '../results', filename4))
data4 <- pivot_longer(
data4,
cols = c(Launch.Event, Launcher.Production, Electronics.Production, Launcher.Transportation, Electricity.Consumption, Propulsion.System),
names_to = "impact_category",
values_to = "emission_value"
)
data4$emission_value <- as.numeric(gsub(",", "", data4$emission_value))
data4$impact_category <- factor(
data4$impact_category,
levels = c(
"Launch.Event", "Launcher.Production", "Electronics.Production",
"Launcher.Transportation", "Electricity.Consumption", "Propulsion.System"),
labels = c(
"Launch Event", "Launcher Production", "Electronics Production",
"Launcher Transportation", "Electricity Consumption", "Propulsion System"))
total_emissions4 <- data4 %>%
group_by(Country) %>%
summarise(total_emission_value = sum(emission_value, na.rm = TRUE))
max_emission4 <- max(total_emissions4$total_emission_value, na.rm = TRUE)
country_bar_chart <- ggplot(data4, aes(x = Country, y = emission_value)) +
geom_bar(stat = "identity", aes(fill = impact_category)) +
scale_fill_viridis_d(option = "plasma") +
theme_minimal() +
labs(
title = "Average Emissions per Subscriber by Country",
x = NULL,
y = "Average GHG Emissions per Subscriber (kt CO2e)",
fill = NULL
) +
scale_y_continuous(
labels = comma,
expand = c(0, 0),
limits = c(0, max_emission4 * 1.1)
) +
theme(
legend.position = "bottom",
legend.box = "horizontal",
legend.text = element_text(size = 8),
legend.title = element_text(size = 9),
axis.title = element_text(size = 10),
axis.line = element_line(colour = "black"),
strip.text.x = element_blank(),
panel.border = element_blank(),
axis.title.y = element_markdown(margin = margin(r = 10)),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.text.x = element_text(size = 8, angle = 45, hjust = 1),
axis.text.y = element_text(size = 8),
axis.line.x = element_line(size = 0.15),
axis.line.y = element_line(size = 0.15),
plot.title = element_text(size = 12, face = "bold", hjust = 0.5),
plot.subtitle = element_text(size = 10, hjust = 0.5),
plot.margin = margin(t = 20, r = 20, b = 20, l = 20)
) +
geom_text(
data = total_emissions4,
aes(x = Country, y = total_emission_value, label = comma(round(total_emission_value))),
vjust = -0.3,
size = 3
)
filename_reusability <- "reusability_per_subscriber.csv"
data_reusability <- read.csv(file.path(folder, '../results', filename_reusability))
data_reusability <- data_reusability %>%
pivot_longer(
cols = -Reusable,
names_to = "impact_category",
values_to = "emission_value"
)
data_reusability$impact_category <- factor(
data_reusability$impact_category,
levels = c(
"Launch.Event", "Launcher.Production", "Electronics.Production",
"Launcher.Transportation", "Electricity.Consumption", "Propulsion.System"),
labels = c(
"Launch Event", "Launcher Production", "Electronics Production",
"Launcher Transportation", "Electricity Consumption", "Propulsion System")
)
total_emissions_reusability <- data_reusability %>%
group_by(Reusable) %>%
summarise(total_emission_value = sum(emission_value, na.rm = TRUE))
max_emission_reusability <- max(total_emissions_reusability$total_emission_value, na.rm = TRUE)
data_reusability$Reusable <- factor(
data_reusability$Reusable,
levels = c("Non-Reusable", "Reusable")
)
f_emissions_updated <- ggarrange(
emissions_plot +
theme(
axis.title = element_text(size = 10),
axis.text.x = element_text(size = 8, angle = 45, hjust = 1),
axis.text.y = element_text(size = 8),
plot.title = element_text(size = 15, face = "bold", hjust = 0.5),
plot.subtitle = element_text(size = 14, hjust = 0.5),
plot.margin = margin(t = 20, r = 20, b = 20, l = 20)
),
country_bar_chart +
theme(
axis.title = element_text(size = 10),
axis.text.x = element_text(size = 8, angle = 45, hjust = 1),
axis.text.y = element_text(size = 8),
plot.title = element_text(size = 15, face = "bold", hjust = 0.5),
plot.subtitle = element_text(size = 14, hjust = 0.5),
plot.margin = margin(t = 20, r = 20, b = 20, l = 20)
),
ncol = 2,
nrow = 1,
labels = c("A", "B")
)
shared_legend <- get_legend(
emissions_plot +
guides(fill = guide_legend(nrow = 1)) +
theme(
legend.position = "bottom",
legend.box = "horizontal",
legend.text = element_text(size = 8),
legend.title = element_text(size = 9),
legend.margin = margin(t = 5, r = 0, b = 0, l = 0)
)
)
emissions_plot <- emissions_plot + theme(legend.position = "none")
country_bar_chart <- country_bar_chart + theme(legend.position = "none")
final_plot <- ggarrange(
emissions_plot,
country_bar_chart,
ncol = 2,
nrow = 1,
labels = c("A", "B"),
common.legend = TRUE,
legend = "bottom"
)
output_path <- file.path(visualizations, 'f_per_subscriber_emissions.png')
png(
output_path,
units = "in",
width = 16,
height = 6,
res = 300
)
print(final_plot)
dev.off()
